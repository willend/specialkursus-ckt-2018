% miFit configuration script file: miFit interface to iFit
%
% specific configuration plug-in for neutron scattering/McStas items
% import with mifit('path_to/neutrons_McStas.ini')
config.Menu_Neutron_Scattering = { ...
  'McStas: Open instrument file...', ...
    'mifit(mccode('''', ''compile=1''));', ...
  'McStas: Open instrument example...', ...
    'mifit(mccode(''gui'', ''compile=1''));', ...
  'McStas: Edit instrument description...', [ ...
    'tmp_m=iFunc_McCode(getappdata(mifit, ''CurrentModel'')); ' ...
    'edit(tmp_m); mifit(''push'', tmp_m); clear tmp_m' ], ...
  'McStas: View selected model instrument geometry...', ...
    'plot(iFunc_McCode(getappdata(mifit, ''CurrentModel'')));', ...
  'McStas: Compute instrument single step/scans...', ...
    [ '[tmp_v, tmp_m]=dialog(iFunc_McCode(getappdata(mifit, ''CurrentModel'')));' ...
      'mifit(''push'', tmp_v); clear tmp_m tmp_v' ], ...
  'McStas: Optimize instrument parameters...', [ ...
    'tmp_m=iFunc_McCode(getappdata(mifit, ''CurrentModel'')); ' ...
    'fmax(tmp_m, [], [], nan); mifit(''push'', tmp_m); clear tmp_m' ], ...
  'McStas: help','doc(iData,''McStas.html'')' };

